---
id: 1708
title: 'Lepiej kupić flaszkę, niż beacon'
date: '2017-07-18T08:50:04+02:00'
layout: post
guid: 'http://informaton.pl/?p=1708'
permalink: /2017/07/18/lepiej-kupic-flaszke-niz-beacon/
restapi_import_id:
    - 5ca8405547793
categories:
    - artykuły
tags:
    - Apple
    - beacony
    - mobilne
    - nawigacja
    - niewidomi
    - 'Virtualna Warszawa'
---

Beacony to takie małe urządzenia wyposażone w nadajnik BlueTooth Low Energy mogące komunikować się ze smartfonem. Jest to definicja tyleż prosta, co mało precyzyjna, ale na razie niech wystarczy. W Beaconach pokładano nadzieje na wspomaganie w nawigacji osób niewidomych, w tym przez mikronawigację, przede wszystkim w przestrzeniach zamkniętych. Na tym pomyśle opierał się projekt Virtualna Warszawa realizowany od kilku lat ze zmiennym powodzeniem. Nawiasem mówiąc – nie znalazłem strony projektu, chociaż szukałem.

Zamierzałem i ja wypróbować te beacony, bo można kupić je w dużym wyborze w sklepie Aliexpress. Chciałem umieścić kilka w mojej okolicy, na przykład przy furtce i wejściu do klatki schodowej. Potem zamierzałem włączyć wykrywanie w Seeing Assistant Move (SAM) – mojej ulubionej aplikacji do nawigacji. Sam nie umiałem sobie poradzić z wyborem, więc zadzwoniłem do Sławomira Strugarka z firmy Transition Technologies, która wydaje SAM, aby mi doradził. No i doradził, abym zamiast beaconów kupił flaszkę. Pomysł jest chyba niezły, biorąc pod uwagę to, co mi opowiedział.

Otóż obsługi beaconów w SAM już nie ma, czy ściślej – została ukryta przed użytkownikami. Firma Apple porobiła bowiem tak dużo zastrzeżeń co do ich obsługi, że trzymanie tej funkcjonalności było bez sensu. To nie znaczy, że iOS w ogóle beaconów nie jest w stanie obsłużyć, ale włożyć w to należy bardzo dużo pracy, a efekt jest dosyć słaby. Sławek stwierdził wręcz, że to jest technologia, za której pomocą mikronawigacji zrobić się nie da. Jest za mało dokładna i nadmiernie podatna na zakłócenia. Ten sam efekt można osiągnąć za pomocą nawigacji GPS, która jest pewniejsza. Nie zadziała wprawdzie w przestrzeniach zamkniętych, ale są już technologie oparte o Wi-Fi, które to umożliwią. Tak więc flaszka zamiast beacona to niezła zamiana.

Tezy te potwierdził Marek Tankielun z Politechniki Wrocławskiej, który napisał do mnie list po jednej z moich wypowiedzi o beaconach na liście dyskusyjnej. Napisałem tam, że z beaconami jest tak, że nikt nie wie gdzie są, więc są bezużyteczne. Za jego zgodą cytuję jego list z drobnymi poprawkami i skrótami.

> To nie jest tak, że Beaconów nie ma i "Bóg jeden wie gdzie są". Wspomniałeś , że piszesz jakiś tam tekst o nawigacji to i postanowiłem napisać Ci też o nawigacji w kontekście Beaconów. Co do Beacon-ów to fakt, że wiele się o nich mówiło/mówi, ale wydaje mi się, że wizje zastosowania wyprzedziły możliwości technologiczne i pewne niedoskonałości standardu wyszły w praktycznym zastosowaniu. Jednak era mikronawigacji to niedługa przyszłość. Choć uważam osobiście, że za dużo szumu zrobiono w około tego, a potem wyszło trochę średnio. Nawet na stronach PZN piszą, iż "Pierwsze testy Virtualnej Warszawy w szczególności w przestrzeni zamkniętej nie przyniosły obiecujących wyników; tak samo było w trakcie kolejnych testów, gdzie prócz beaconów wykorzystano GPS, itd" (Info z stron PZN).  
> Co do samego Bluetooth to standard 4.2 to tylko obniżenie poboru mocy i tyle, a aktualnie na tym standardzie opierają się mikroukłady, więc bolączki poprzednich wersji standardu Bluetooth nie zostały wyeliminowane. Bardzo często na filmach pokazowych fajnie to wygląda, ale w różnych warunkach praktycznie gorzej działa. Dopiero bluetooth 5.0 ma wprowadzić mechanizmy wykrywania i zapobiegania interferencjom na końcach pasma 2,4 GHz oraz sąsiadujących kanałów LTE (np. z pasma 2100 MHz) i to ma być realizowane poprzez wykrywanie wolnych slotów czasowych, podczas których możliwa jest transmisja. Jednak nie wiem jak to będzie w praktyce działać, bo jeszcze nie testowałem. Z moich doświadczeń z Beaconami na PWR wynika, że nie za dobrze działają one w środowiskach, gdzie znajduje się dużo różnych sieci bezprzewodowych i z tym związanych zakłuceń (publiczne sieci Wi-Fi, smartfony i tablety, ciągi komunikacyjne), itp. Mam taką dużą szklaną ścianę 3mx5m, która posiada żaluzję po jej opuszczeniu dochodzi do odbijania fal i niby się jest daleko od Beacona a tak naprawdę chodzi o zakłucenia tej żaluzji. W SAM mam dodane kilka Beaconów fizycznie zamontowanych w moim budynku na Politechnice i to działa. Jak się do nich zbliżam, wejdę w zasięg, to mi szybciej pika w aplikacji SAM. są to Beacony od <http://www.onyxbeacon.com>.  
> Wracając do samego Bluetooth v5 sprawa wygląda tak, że najnowsza specyfikacja została zaakceptowana przez Bluetooth Special Interest Group, czyli główne ciało zarządzające standardem Bluetooth, w grudniu ub. roku. W kolejnych miesiącach pojawią się na rynku urządzenia, które będą ją wykorzystywały. Jak można poczytać na różnych forach i w artykułach naukowych w wielu projektach wykorzystujących mikronawigację doświadczenia praktyczne wykazały, iż istnieje wiele czynników, które wpływają na brak precyzji samego bluetooth w urządzeniach mobilnych i opisywane najczęściej problemy z tym związane to takie znalezione na szybko :
> 
> 1. Smartfony stają się coraz cieńsze i coraz lżejsze, przez to również podatne na uszkodzenia. Użytkownicy chronią je zakładając etui, folie ochronne, gumowe obudowy. Elementy te wpływają na odczyt sygnału. Dodatkowo różne modele telefonów posiadają różne moduły bluetooth. W praktyce oznacza to, że jeśli dwie osoby stoją w tym samym miejscu, jedna z nich może nie otrzymać sygnału o wejściu w zasięg beacona.
> 2. Eksperci wskazują, iż duże znaczenie ma dobór miejsca instalacji nadajnika, a w szczególności najskuteczniejsze jest ich umieszczanie po obwodzie pomieszczeń. W przypadku instalacji beacon-a na żelbetonowym słupie, znajdującym się na środku pomieszczenia sygnał może być z jednej strony wzmacniany, zaś po przeciwnej słabo odbierany, a w końcu dla niewidomych niezawodność to chyba priorytet. W następstwie tego osoba przechodząca blisko nadajnika, może zostać poza jego zasięgiem.
> 3. Ponadto nadajniki montuje się na wysokości 3 metrów  
>      aby emisji fal radiowych nie tłumiła woda, z której w ok. 70% składa się ludzki organizm.  
>     tłum ludzi odwiedzający urząd, spacerujący w centrach handlowych to nie tylko woda w ludzkim organizmie, ale wiele sprzętu elektronicznego będącego nośnikiem potencjalnych zakłuceń.
> 
> Co do samego Ibeacona to jeszcze niedawno nie było alternatywy dla psełdostandardu Ibeacon, a wszyscy ostrożnie podchodzili do protokołów Webbluettoth oraz Eddystone. Aktualnie większość istniejących produktów i wdrażanych projektów opiera się na psełdostandardzie Ibeacon, który wiąże się z pewnymi ograniczeniami. Beacony pracujące w psełdostandardzie iBeacon zawierają tylko własny identyfikator. W związku z czym nie mogą przesyłać innych danych choćby adresów stron internetowych oraz własnych danych telemetrycznych i zarządzania. Użytkownik urządzenia mobilnego musi mieć zainstalowaną dedykowaną aplikację obsługującą beacony w danym miejscu, a jak była ona zaimplementowana mało starannie to będzie problem z wykrywaniem nadajników i lokalizowaniem. specyfikacja psełdostandardu Ibeacon wskazuje, iż to kod aplikacji interpretuje sygnał pochodzący z beaconów i wylicza odległość, a także musi w własnym zakresie uwzględnić to, że nie zawsze sygnał z bliższego beacona będzie silniejszy. Nie uwzględnienie pewnych przypadków użycia w trakcie implementacji aplikacji opartej o Ibeacon może skutkować tym, iż m.in nie będzie użyteczną i niezawodną.  
> Przykładowo Mamy kolejną aktualizację iOS/androida zmienia się API i zaczyna się przeimplementowywanie pewnych funkcji w naszej aplikacji. To są tysiące aplikacji aplikacja dedykowana dla konkretnego miejsca, instytucji lub integracja z globalną aplikacją obsługującą dane rozwiązanie oparte o psełdostandard Ibeacon i tak: zmiana beacona na nowy może wymagać zmian w aplikacji lub danych, które pobiera z danego systemu, Zmiana układu (dodanie nowych elementów) przestrzeni wewnątrz budynku może wymagać przepisania fragmentu aplikacji odpowiedzialnej za interpretację położenia poprzez interpolację sygnału z różnych beaconów.  
> Patrząc w przyszłość trzeba wspomnieć o tym że będzie już tylko lepiej i trzeba trzymać kciuki za kolejne wersje dotyczące samego Bluetootha jak i protokołów rozgłaszania informacji.

Problemy opisane przez Marka potwierdził także Tomasz Koźmiński z firmy [Kontakt.io](https://kontakt.io/) na jednej z list dyskusyjnych. Chociaż dostrzega ogromne możliwości przed beaconami, to stosowanie ich do mikronawigacji można włożyć między bajki. Przynajmniej na razie. Czy da się to zrobić w przyszłości – trudno w tym momencie orzec.

Tak więc z dużej chmury beaconów spadł bardzo mały deszczyk. Wydaje się, że w Warszawie nie wiedzą, co z tym zrobić, a wycofać się nie bardzo da. Projekt był innowacyjny, a takie są narażone na ryzyko porażki. Trzeba ją zatem przyjąć na klatę i odejść od pierwotnej koncepcji. Natomiast nie musi to oznaczać odejścia od beaconów, bo te są na pewno ciekawym rozwiązaniem, chociaż wymagają dopracowania protokołów. Natomiast trzeba odejść od mikronawigacji, bo tej wdrożyć się nie da.